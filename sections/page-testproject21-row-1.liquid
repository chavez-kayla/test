{% if section.settings.border-image != blank %}
	<div class="border-image-top">
		<img src="{{ section.settings.border-image | img_url: '2400x' }}" alt="{% if section.settings.banner.alt != '' %}{{ section.settings.banner.alt | escape }}{% else %}Tubby Todd Bath Co.{% endif %}">
	</div>	
{% endif %}	

<div class="no-margin extra-padding-top" style="background: {{ section.settings.bg_color }}; positon:relative;">
	{% if section.settings.title != '' or section.settings.intro != '' %}
		<div class="page-title extra-margin-bottom">     
			<div class=" container contain-width-80">
				<div class="row row-lg padding-top">      
			  	<h2 class="size--xlarge text-bold" style="color: {{ section.settings.color }};">{{ section.settings.title }}</h2>
				</div>
			</div>
			<div class="container contain-width-80">
				<div class="row row-lg">
			  	<div class="page-title__text rte size--normal extra-margin-bottom">
						<p>{{ section.settings.intro }}</p>
					</div>
				</div>
				{% if section.settings.button_text != '' and section.settings.button_link %}
					<div class="row row-med u-center margin-top extra-margin-bottom">
						<a href="{{ section.settings.button_link }}" class="button button--primary inline upcase" title="{{ section.settings.button_text | strip_html }}">{{ section.settings.button_text | strip_html }}</a>
					</div>
				{% endif %}
			</div>        
		</div>
	{% endif %}
	
	<div class="js-collectionGrid collectionGrid-row row inline row-lg EndlessClick ">
		{% if section.settings.accent-image %}
			<div class="accent-before"></div>
		{% endif %}
		{% for block in section.blocks %}
			<div class="collectionBlock js-collectionBlock block s12 sm_s12 lg_s14  is-visible text-center">
				<a href="{{ block.settings.link }}" title="{{ block.settings.title }}"> 
				<img src="{{ block.settings.image | img_url: '500x' }}" alt="{% if block.settings.image.alt != '' %}{{ block.settings.image.alt | escape }}{% else %}Tubby Todd Bath Co.{% endif %}">
				<div class="contain-width-60 margin-auto">
					<h3>{{ block.settings.title }}</h3>
					<div class="bold">{{ block.settings.text }}</div>
				</div>
				</a>
			</div>
		{% endfor %}
		<div class="gridSpacer item block s1 sm_s12 lg_s13"></div>
		<div class="gridSpacer item block s1 sm_s12 lg_s13"></div>
		{% if section.settings.accent-image-bottom %}
			<div class="accent-after"></div>
		{% endif %}
	</div>
</div>

{% if section.settings.border-image != blank %}
	<div class="border-image-bottom">
		<img src="{{ section.settings.border-bottom-image | img_url: '2400x' }}" alt="{% if section.settings.banner.alt != '' %}{{ section.settings.banner.alt | escape }}{% else %}Tubby Todd Bath Co.{% endif %}">
	</div>	
{% endif %}	

<style>
	.custom-page-row-1 img.link-image {
		position: relative;
		top: 5px;
		margin-left: 10px;
	}
	.custom-page-row-1 .collectionGrid-row img {
		max-width: 100%;
	}
	.custom-page-row-1 .collectionGrid-row div p {
		color: #000;
	}
	.custom-page-row-1 .collectionGrid-row h3 {
		margin-top:15px;
	}
	.custom-page-row-1 .border-image-top img, .custom-page-row-1 .border-image-bottom img {
		display: block;
		width: 100%;
	}
	.custom-page-row-1 .accent-before {
		background-image: url({{ section.settings.accent-image | img_url: '300x' }}); 
		background-repeat: no-repeat;
		height: 150px; 
		width: 425px;
		position: absolute;
		top: -10%;
		left: 39%;
	}
	.custom-page-row-1 .accent-after {
		background-image: url({{ section.settings.accent-image-bottom | img_url: '300x' }}); 
		background-repeat: no-repeat;
		background-size: contain;
		height: 100px; 
		width: 400px;
		position: absolute;
		bottom: 10%;
		right: 0;
		margin-right: -9%;
		z-index: 99;
		overflow: hidden;
	}
	
	@media only screen and (min-width: 2000px) {
		.custom-page-row-1 .accent-after-2 {
			bottom: -15vh;
		}
		.custom-page-row-1 .accent-after {
			width: 550px;
			bottom: 15%;
		}
	}
	
	@media only screen and (min-width: 1700px) and (max-width: 1999px) {
		.custom-page-row-1 .accent-before {
			top: -18vh;
		}
		.custom-page-row-1 .accent-after {
			bottom: 10%;
		}
	}

	
	@media only screen and (max-width: 1025px) {
		.custom-page-row-1 .border-image-top img {
			margin-bottom: -1px;
		}
		.custom-page-row-1 .accent-before {
			/*top: -17vh;*/
			left: -2%;
		}
	}
	
	@media only screen and (max-width: 769px) {
		.custom-page-row-1 .accent-after {
			bottom: -4%;
		}
		.custom-page-row-1 .accent-after-2 {
			bottom: -10%;
		}
	}
	
	@media only screen and (max-width: 600px) {
		.custom-page-row-1 .accent-before {
			/*top: -18vh;*/
			left: 5%;
			/*background-size: cover;*/
			height: 65px;
			/*width: 200px;*/
		}
		.custom-page-row-1 .accent-after {
			right: -18px;
			width: 250px;
			bottom: -5%;
		}
	}
</style>
{% schema %}
  {
    "name": "Section Row 1",
    "class": "custom-page-row-1",
    "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Heading"
    },
    {
      "type": "textarea",
      "id": "intro",
      "label": "Intro text"
    },
		{
      "type": "color",
      "id": "color",
      "label": "Heading color",
      "default": "#000"
    },
		{
      "type": "color",
      "id": "bg_color",
      "label": "Background color",
      "default": "#fff"
    },
	{
	   "type": "text",
	   "id": "button_text",
	   "label": "Button text"
	},
	{
	   "type": "url",
	   "id": "button_link",
	   "label": "Button link"
	},
	{
	    "type": "image_picker",
	    "id": "border-image",
	    "label": "Border top image"
    },
	{
	    "type": "image_picker",
	    "id": "border-bottom-image",
	    "label": "Border bottom image"
    },
	{
	    "type": "image_picker",
	    "id": "accent-image",
	    "label": "Accent image top"
  	},
	{
	    "type": "image_picker",
	    "id": "accent-image-bottom",
	    "label": "Accent image bottom"
  	}
  ],
  "blocks": [
    {
      "type": "text",
      "name": "Product",
      "settings": [
				{
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
				{
        	"type": "text",
        	"id": "title",
        	"label": "Title"
       	},
				{
				   "type": "richtext",
				   "id": "text",
				   "label": "Text"
				},
				{
        	"type": "url",
        	"id": "link",
        	"label": "Link"
       	}
      ]
    }
  ]
  }
{% endschema %}

